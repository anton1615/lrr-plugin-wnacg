# Wnacg Downloader for LANraragi

A custom downloader plugin for [LANraragi](https://github.com/Difegue/LANraragi) designed to fetch manga from Wnacg and automatically package them into ZIP files.

## Features
- **Full Auto-Download**: Supports direct ZIP extraction or image list fetching from Wnacg URLs.
- **URL Normalization**: Handles `photos-index`, `photos-slide`, and `aid-xxxx` formats automatically.
- **Multi-Domain Support**: Compatible with `wnacg.com`, `wnacg.org`, and `wnacg.net`.
- **Modern Implementation**: Built using `Mojo::UserAgent` for robust connection handling and anti-hotlinking bypass.

## Requirements
- LANraragi v0.8.0 or higher.
- `Mojo::UserAgent` (pre-installed in official LANraragi images).

## Installation

### 1. NixOS (Declarative Installation)
If you are using NixOS, add the following to your configuration:

```nix
let
  wnacgPlugin = pkgs.fetchurl {
    url = "https://raw.githubusercontent.com/anton1615/lrr-plugin-wnacg/master/Wnacg.pm";
    sha256 = "0iawqhfah0phsk4vvhm96lyr56i1qwphxnvy5idywbyq6rjj9025"; # Replace with actual hash
  };
in {
  virtualisation.oci-containers.containers.lanraragi.volumes = [
    "${wnacgPlugin}:/home/koyomi/lanraragi/lib/LANraragi/Plugin/Download/Wnacg.pm:ro"
  ];
}
```

### 2. Manual Installation
1. Download `Wnacg.pm` from this repository.
2. Place it in the `/lib/LANraragi/Plugin/Sideloaded/` directory of your LANraragi installation.
3. Restart LANraragi.
4. Enable the plugin via **Configuration** -> **Plugins** -> **Downloader Plugins**.

## Technical Details
- **Developer**: Code automatically generated and optimized by **Gemini CLI Agent**.
- **Test Environment**: NixOS 25.11, LANraragi 0.9.60 (Docker).
- **Logic**: Prioritizes Wnacg's official direct ZIP download page; falls back to image list scraping if ZIP is unavailable.

## License
Licensed under the [MIT License](LICENSE).

---
*Generated by Gemini CLI Agent*